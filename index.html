<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>codebird-php by mynetx</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/main.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>

      <header>
        <h1>codebird-php</h1>
        <p>A Twitter library in PHP.</p>
      </header>

      <div id="banner">
        <span id="logo"></span>

        <a href="https://github.com/mynetx/codebird-php" class="button fork"><strong>View On GitHub</strong></a>
        <div class="downloads">
          <span>Downloads:</span>
          <ul>
            <li><a href="https://github.com/mynetx/codebird-php/zipball/master" class="button">ZIP</a></li>
            <li><a href="https://github.com/mynetx/codebird-php/tarball/master" class="button">TAR</a></li>
          </ul>
        </div>
      </div><!-- end banner -->

    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>
        <h1>
<a name="codebird-php" class="anchor" href="#codebird-php"><span class="octicon octicon-link"></span></a>codebird-php</h1>

<p><em>A Twitter library in PHP.</em></p>

<p><a href="https://sourceforge.net/projects/codebird-php.codebird.p/files/latest/download"><img src="https://f.cloud.github.com/assets/157944/591288/9a6955f4-c9fe-11e2-8bca-15db918638ef.png" alt="Download latest version from SourceForge"></a></p>

<p>Copyright (C) 2010-2013 J.M. &lt;<a href="mailto:me@mynetx.net">me@mynetx.net</a>&gt;</p>

<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>

<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>

<p>You should have received a copy of the GNU General Public License
along with this program.  If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>

<h3>
<a name="versions" class="anchor" href="#versions"><span class="octicon octicon-link"></span></a>Versions</h3>

<ul>
<li>JavaScript: <a href="https://github.com/mynetx/codebird-js">https://github.com/mynetx/codebird-js</a>
</li>
<li>PHP: <a href="https://github.com/mynetx/codebird-php">https://github.com/mynetx/codebird-php</a>
</li>
</ul><h3>
<a name="requirements" class="anchor" href="#requirements"><span class="octicon octicon-link"></span></a>Requirements</h3>

<ul>
<li>PHP 5.3.0 or higher</li>
<li>CURL extension</li>
<li>OpenSSL extension</li>
</ul><h2>
<a name="1-authentication" class="anchor" href="#1-authentication"><span class="octicon octicon-link"></span></a>1. Authentication</h2>

<p>To authenticate your API requests on behalf of a certain Twitter user
(following OAuth 1.0a), take a look at these steps:</p>

<div class="highlight"><pre><span class="k">require_once</span> <span class="p">(</span><span class="s1">'codebird.php'</span><span class="p">);</span>
<span class="nx">\Codebird\Codebird</span><span class="o">::</span><span class="na">setConsumerKey</span><span class="p">(</span><span class="s1">'YOURKEY'</span><span class="p">,</span> <span class="s1">'YOURSECRET'</span><span class="p">);</span> <span class="c1">// static, see 'Using multiple Codebird instances'</span>

<span class="nv">$cb</span> <span class="o">=</span> <span class="nx">\Codebird\Codebird</span><span class="o">::</span><span class="na">getInstance</span><span class="p">();</span>
</pre></div>

<p>You may either set the OAuth token and secret, if you already have them:</p>

<div class="highlight"><pre><span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="s1">'YOURTOKEN'</span><span class="p">,</span> <span class="s1">'YOURTOKENSECRET'</span><span class="p">);</span>
</pre></div>

<p>Or you authenticate, like this:</p>

<div class="highlight"><pre><span class="nb">session_start</span><span class="p">();</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">'oauth_token'</span><span class="p">]))</span> <span class="p">{</span>
    <span class="c1">// get the request token</span>
    <span class="nv">$reply</span> <span class="o">=</span> <span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">oauth_requestToken</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s1">'oauth_callback'</span> <span class="o">=&gt;</span> <span class="s1">'http://'</span> <span class="o">.</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'HTTP_HOST'</span><span class="p">]</span> <span class="o">.</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">'REQUEST_URI'</span><span class="p">]</span>
    <span class="p">));</span>

    <span class="c1">// store the token</span>
    <span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="nv">$reply</span><span class="o">-&gt;</span><span class="na">oauth_token</span><span class="p">,</span> <span class="nv">$reply</span><span class="o">-&gt;</span><span class="na">oauth_token_secret</span><span class="p">);</span>
    <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">'oauth_token'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$reply</span><span class="o">-&gt;</span><span class="na">oauth_token</span><span class="p">;</span>
    <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">'oauth_token_secret'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$reply</span><span class="o">-&gt;</span><span class="na">oauth_token_secret</span><span class="p">;</span>
    <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">'oauth_verify'</span><span class="p">]</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>

    <span class="c1">// redirect to auth website</span>
    <span class="nv">$auth_url</span> <span class="o">=</span> <span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">oauth_authorize</span><span class="p">();</span>
    <span class="nx">header</span><span class="p">(</span><span class="s1">'Location: '</span> <span class="o">.</span> <span class="nv">$auth_url</span><span class="p">);</span>
    <span class="k">die</span><span class="p">();</span>

<span class="p">}</span> <span class="k">elseif</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="s1">'oauth_verifier'</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">'oauth_verify'</span><span class="p">]))</span> <span class="p">{</span>
    <span class="c1">// verify the token</span>
    <span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">'oauth_token'</span><span class="p">],</span> <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">'oauth_token_secret'</span><span class="p">]);</span>
    <span class="nb">unset</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">'oauth_verify'</span><span class="p">]);</span>

    <span class="c1">// get the access token</span>
    <span class="nv">$reply</span> <span class="o">=</span> <span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">oauth_accessToken</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s1">'oauth_verifier'</span> <span class="o">=&gt;</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s1">'oauth_verifier'</span><span class="p">]</span>
    <span class="p">));</span>

    <span class="c1">// store the token (which is different from the request token!)</span>
    <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">'oauth_token'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$reply</span><span class="o">-&gt;</span><span class="na">oauth_token</span><span class="p">;</span>
    <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">'oauth_token_secret'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$reply</span><span class="o">-&gt;</span><span class="na">oauth_token_secret</span><span class="p">;</span>

    <span class="c1">// send to same URL, without oauth GET parameters</span>
    <span class="nx">header</span><span class="p">(</span><span class="s1">'Location: '</span> <span class="o">.</span> <span class="nb">basename</span><span class="p">(</span><span class="k">__FILE__</span><span class="p">));</span>
    <span class="k">die</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// assign access token on each page load</span>
<span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">'oauth_token'</span><span class="p">],</span> <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">'oauth_token_secret'</span><span class="p">]);</span>
</pre></div>

<h3>
<a name="11-application-only-auth" class="anchor" href="#11-application-only-auth"><span class="octicon octicon-link"></span></a>1.1. Application-only auth</h3>

<p>Some API methods also support authenticating on a per-application level.
This is useful for getting data that are not directly related to a specific
Twitter user, but generic to the Twitter ecosystem (such as <code>search/tweets</code>).</p>

<p>To obtain an app-only bearer token, call the appropriate API:</p>

<div class="highlight"><pre><span class="nv">$reply</span> <span class="o">=</span> <span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">oauth2_token</span><span class="p">();</span>
<span class="nv">$bearer_token</span> <span class="o">=</span> <span class="nv">$reply</span><span class="o">-&gt;</span><span class="na">access_token</span><span class="p">;</span>
</pre></div>

<p>I strongly recommend that you store the obtained bearer token in your database.
There is no need to re-obtain the token with each page load, as it becomes invalid
only when you call the <code>oauth2/invalidate_token</code> method.</p>

<p>If you already have your token, tell Codebird to use it:</p>

<div class="highlight"><pre><span class="nx">\Codebird\Codebird</span><span class="o">::</span><span class="na">setBearerToken</span><span class="p">(</span><span class="s1">'YOURBEARERTOKEN'</span><span class="p">);</span>
</pre></div>

<p>For sending an API request with app-only auth, see the ‘Usage examples’ section.</p>

<h2>
<a name="2-usage-examples" class="anchor" href="#2-usage-examples"><span class="octicon octicon-link"></span></a>2. Usage examples</h2>

<p>When you have an access token, calling the API is simple:</p>

<div class="highlight"><pre><span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">setToken</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">'oauth_token'</span><span class="p">],</span> <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">'oauth_token_secret'</span><span class="p">]);</span> <span class="c1">// see above</span>

<span class="nv">$reply</span> <span class="o">=</span> <span class="p">(</span><span class="k">array</span><span class="p">)</span> <span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">statuses_homeTimeline</span><span class="p">();</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$reply</span><span class="p">);</span>
</pre></div>

<p>Tweeting is as easy as this:</p>

<div class="highlight"><pre><span class="nv">$reply</span> <span class="o">=</span> <span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">statuses_update</span><span class="p">(</span><span class="s1">'status=Whohoo, I just tweeted!'</span><span class="p">);</span>
</pre></div>

<p>For more complex parameters (see the <a href="https://dev.twitter.com/">Twitter API documentation</a>),
giving all parameters in an array is supported, too:</p>

<div class="highlight"><pre><span class="nv">$params</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'screen_name'</span> <span class="o">=&gt;</span> <span class="s1">'mynetx'</span>
<span class="p">);</span>
<span class="nv">$reply</span> <span class="o">=</span> <span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">users_show</span><span class="p">(</span><span class="nv">$params</span><span class="p">);</span>
</pre></div>

<p>When <strong>uploading files to Twitter</strong>, the array syntax is obligatory:</p>

<div class="highlight"><pre><span class="nv">$params</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'status'</span> <span class="o">=&gt;</span> <span class="s1">'Look at this crazy cat! #lolcats'</span><span class="p">,</span>
    <span class="s1">'media[]'</span> <span class="o">=&gt;</span> <span class="s1">'/home/mynetx/lolcats.jpg'</span>
<span class="p">);</span>
<span class="nv">$reply</span> <span class="o">=</span> <span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">statuses_updateWithMedia</span><span class="p">(</span><span class="nv">$params</span><span class="p">);</span>
</pre></div>

<h3>
<a name="requests-with-app-only-auth" class="anchor" href="#requests-with-app-only-auth"><span class="octicon octicon-link"></span></a>Requests with app-only auth</h3>

<p>To send API requests without an access token for a user (app-only auth),
add a second parameter to your method call, like this:</p>

<div class="highlight"><pre><span class="nv">$reply</span> <span class="o">=</span> <span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">search_tweets</span><span class="p">(</span><span class="s1">'q=Twitter'</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
</pre></div>

<p>Bear in mind that not all API methods support application-only auth.</p>

<h2>
<a name="3-mapping-api-methods-to-codebird-function-calls" class="anchor" href="#3-mapping-api-methods-to-codebird-function-calls"><span class="octicon octicon-link"></span></a>3. Mapping API methods to Codebird function calls</h2>

<p>As you can see from the last example, there is a general way how Twitter’s API methods
map to Codebird function calls. The general rules are:</p>

<ol>
<li>
<p>For each slash in a Twitter API method, use an underscore in the Codebird function.</p>

<p>Example: <code>statuses/update</code> maps to <code>Codebird::statuses_update()</code>.</p>
</li>
<li>
<p>For each underscore in a Twitter API method, use camelCase in the Codebird function.</p>

<p>Example: <code>statuses/home_timeline</code> maps to <code>Codebird::statuses_homeTimeline()</code>.</p>
</li>
<li>
<p>For each parameter template in method, use UPPERCASE in the Codebird function.
Also don’t forget to include the parameter in your parameter list.</p>

<p>Examples:</p>

<ul>
<li>
<code>statuses/show/:id</code> maps to <code>Codebird::statuses_show_ID('id=12345')</code>.</li>
<li>
<code>users/profile_image/:screen_name</code> maps to
<code>Codebird::users_profileImage_SCREEN_NAME('screen_name=mynetx')</code>.</li>
</ul>
</li>
</ol><h2>
<a name="4-http-methods-get-post-delete-etc" class="anchor" href="#4-http-methods-get-post-delete-etc"><span class="octicon octicon-link"></span></a>4. HTTP methods (GET, POST, DELETE etc.)</h2>

<p>Never care about which HTTP method (verb) to use when calling a Twitter API.
Codebird is intelligent enough to find out on its own.</p>

<h2>
<a name="5-response-codes" class="anchor" href="#5-response-codes"><span class="octicon octicon-link"></span></a>5. Response codes</h2>

<p>The HTTP response code that the API gave is included in any return values.
You can find it within the return object’s <code>httpstatus</code> property.</p>

<h3>
<a name="51-dealing-with-rate-limits" class="anchor" href="#51-dealing-with-rate-limits"><span class="octicon octicon-link"></span></a>5.1 Dealing with rate-limits</h3>

<p>Basically, Codebird leaves it up to you to handle Twitter’s rate limit.<br>
The library returns the response HTTP status code, so you can detect rate limits.</p>

<p>I suggest you to check if the <code>$reply-&gt;httpstatus</code> property is <code>400</code> 
and check with the Twitter API to find out if you are currently being 
rate-limited. 
See the <a href="https://dev.twitter.com/docs/rate-limiting-faq">Rate Limiting FAQ</a> 
for more information.</p>

<h2>
<a name="6-return-formats" class="anchor" href="#6-return-formats"><span class="octicon octicon-link"></span></a>6. Return formats</h2>

<p>The default return format for API calls is a PHP object.
For API methods returning multiple data (like <code>statuses/home_timeline</code>),
you should cast the reply to array, like this:</p>

<div class="highlight"><pre><span class="nv">$reply</span> <span class="o">=</span> <span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">statuses_homeTimeline</span><span class="p">();</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="p">(</span><span class="k">array</span><span class="p">)</span> <span class="nv">$reply</span><span class="p">;</span>
</pre></div>

<p>Upon your choice, you may also get PHP arrays directly:</p>

<div class="highlight"><pre><span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">setReturnFormat</span><span class="p">(</span><span class="nx">CODEBIRD_RETURNFORMAT_ARRAY</span><span class="p">);</span>
</pre></div>

<p>The Twitter API natively responds to API calls in JSON (JS Object Notation).
To get a JSON string, set the corresponding return format:</p>

<div class="highlight"><pre><span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">setReturnFormat</span><span class="p">(</span><span class="nx">CODEBIRD_RETURNFORMAT_JSON</span><span class="p">);</span>
</pre></div>

<p>Support for getting a SimpleXML object is planned.</p>

<h2>
<a name="7-using-multiple-codebird-instances" class="anchor" href="#7-using-multiple-codebird-instances"><span class="octicon octicon-link"></span></a>7. Using multiple Codebird instances</h2>

<p>By default, Codebird works with just one instance. This programming paradigma is
called a <em>singleton</em>.</p>

<p>Getting the main Codebird object is done like this:</p>

<div class="highlight"><pre><span class="nv">$cb</span> <span class="o">=</span> <span class="nx">\Codebird\Codebird</span><span class="o">::</span><span class="na">getInstance</span><span class="p">();</span>
</pre></div>

<p>If you need to run requests to the Twitter API for multiple users at once,
Codebird supports this as well. Instead of getting the instance like shown above,
create a new object:</p>

<div class="highlight"><pre><span class="nv">$cb1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Codebird\Codebird</span><span class="p">;</span>
<span class="nv">$cb2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Codebird\Codebird</span><span class="p">;</span>
</pre></div>

<p>Please note that your OAuth consumer key and secret is shared within
multiple Codebird instances, while the OAuth request and access tokens with their
secrets are <em>not</em> shared.</p>

<h1>
<a name="how-do-i" class="anchor" href="#how-do-i"><span class="octicon octicon-link"></span></a>How Do I…?</h1>

<h2>
<a name="access-a-users-profile-image" class="anchor" href="#access-a-users-profile-image"><span class="octicon octicon-link"></span></a>…access a user’s profile image?</h2>

<p>First retrieve the user object using</p>

<p><code>$reply = $cb-&gt;users_show("screen_name=$username");</code></p>

<p>with <code>$username</code> being the username of the account you wish to retrieve the profile image from.</p>

<p>Then get the value from the index <code>profile_image_url</code> or <code>profile_image_url_https</code> of the user object previously retrieved. </p>

<p>For example:</p>

<p><code>$reply['profile_image_url']</code> will then return the profile image url without https.</p>

<h2>
<a name="get-user-id-screen-name-and-more-details-about-the-current-user" class="anchor" href="#get-user-id-screen-name-and-more-details-about-the-current-user"><span class="octicon octicon-link"></span></a>…get user ID, screen name and more details about the current user?</h2>

<p>When the user returns from the authentication screen, you need to trade
the obtained request token for an access token, using the OAuth verifier.
As discussed in the section ‘Usage example,’ you use a call to 
<code>oauth/access_token</code> to do that.</p>

<p>The API reply to this method call tells you details about the user that just logged in.
These details contain the <strong>user ID</strong> and the <strong>screen name.</strong></p>

<p>Take a look at the returned data as follows:</p>

<pre><code>stdClass Object
(
    [oauth_token] =&gt; 14648265-rPn8EJwfB**********************
    [oauth_token_secret] =&gt; agvf3L3**************************
    [user_id] =&gt; 14648265
    [screen_name] =&gt; mynetx
    [httpstatus] =&gt; 200
) 
</code></pre>

<p>If you need to get more details, such as the user’s latest tweet, 
you should fetch the complete User Entity.  The simplest way to get the 
user entity of the currently authenticated user is to use the 
<code>account/verify_credentials</code> API method.  In Codebird, it works like this:</p>

<div class="highlight"><pre><span class="nv">$reply</span> <span class="o">=</span> <span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">account_verifyCredentials</span><span class="p">();</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$reply</span><span class="p">);</span>
</pre></div>

<p>I suggest to cache the User Entity after obtaining it, as the 
<code>account/verify_credentials</code> method is rate-limited by 15 calls per 15 minutes. </p>

<h2>
<a name="walk-through-cursored-results" class="anchor" href="#walk-through-cursored-results"><span class="octicon octicon-link"></span></a>…walk through cursored results?</h2>

<p>The Twitter REST API utilizes a technique called ‘cursoring’ to paginate 
large result sets. Cursoring separates results into pages of no more than 
5000 results at a time, and provides a means to move backwards and 
forwards through these pages. </p>

<p>Here is how you can walk through cursored results with Codebird.</p>

<ol>
<li>
<p>Get the first result set of a cursored method:</p>

<div class="highlight"><pre><span class="nv">$result1</span> <span class="o">=</span> <span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">followers_list</span><span class="p">();</span>
</pre></div>
</li>
<li>
<p>To navigate forth, take the <code>next_cursor_str</code>:</p>

<div class="highlight"><pre><span class="nv">$nextCursor</span> <span class="o">=</span> <span class="nv">$result1</span><span class="o">-&gt;</span><span class="na">next_cursor_str</span><span class="p">;</span>
</pre></div>
</li>
<li>
<p>If <code>$nextCursor</code> is not 0, use this cursor to request the next result page:</p>

<div class="highlight"><pre><span class="k">if</span> <span class="p">(</span><span class="nv">$nextCursor</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$result2</span> <span class="o">=</span> <span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">followers_list</span><span class="p">(</span><span class="s1">'cursor='</span> <span class="o">.</span> <span class="nv">$nextCursor</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</li>
</ol><p>To navigate back instead of forth, use the field <code>$resultX-&gt;previous_cursor_str</code> 
instead of <code>next_cursor_str</code>.</p>

<p>It might make sense to use the cursors in a loop.  Watch out, though, 
not to send more than the allowed number of requests to <code>followers/list</code> 
per rate-limit timeframe, or else you will hit your rate-limit.</p>

<h2>
<a name="use-xauth-with-codebird" class="anchor" href="#use-xauth-with-codebird"><span class="octicon octicon-link"></span></a>…use xAuth with Codebird?</h2>

<p>Codebird supports xAuth just like every other authentication used at Twitter.
Remember that your application needs to be whitelisted to be able to use xAuth.</p>

<p>Here’s an example:</p>

<div class="highlight"><pre><span class="nv">$reply</span> <span class="o">=</span> <span class="nv">$cb</span><span class="o">-&gt;</span><span class="na">oauth_accessToken</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">'x_auth_username'</span> <span class="o">=&gt;</span> <span class="s1">'username'</span><span class="p">,</span>
    <span class="s1">'x_auth_password'</span> <span class="o">=&gt;</span> <span class="s1">'4h3_p4$$w0rd'</span><span class="p">,</span>
    <span class="s1">'x_auth_mode'</span> <span class="o">=&gt;</span> <span class="s1">'client_auth'</span>
<span class="p">));</span>
</pre></div>

<p>Are you getting a strange error message?  If the user is enrolled in 
login verification, the server will return a HTTP 401 error with a custom body. 
If you are using the send_error_codes parameter, you will receive the 
following error message in the response body:</p>

<div class="highlight"><pre><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;errors&gt;</span>
<span class="nt">&lt;error</span> <span class="na">code=</span><span class="s">"231"</span><span class="nt">&gt;</span>User must verify login<span class="nt">&lt;/error&gt;</span>
<span class="nt">&lt;/errors&gt;</span>
</pre></div>

<p>Otherwise, the response body will contain a plaintext response:</p>

<pre><code>User must verify login
</code></pre>

<p>When this error occurs, advise the user to 
<a href="https://twitter.com/settings/applications">generate a temporary password</a>
on twitter.com and use that to complete signing in to the application.</p>
      </section>
      <footer>
        <p>Project maintained by <a href="https://github.com/mynetx">mynetx</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-2369753-9");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>